services: 
  # Serviço Web do Backend (Django) - Não mexer, está correto 
  - type: web 
    name: backend 
    runtime: python 
    plan: free 
    rootDir: backend 
    buildCommand: "pip install -r requirements.txt; python manage.py collectstatic --no-input; python manage.py migrate" 
    startCommand: "gunicorn sgo_core.wsgi" 
    envVars: 
      - key: PYTHON_VERSION 
        value: 3.11.5 
      - key: SECRET_KEY 
        generateValue: true 
      - key: DATABASE_URL 
        fromDatabase: 
          name: meu-banco-sgo 
          property: connectionString 
      - key: ALLOWED_HOSTS 
        value: ".onrender.com" 
 
  # Site Estático do Frontend (React) - CORRIGIDO 
  - type: static 
    name: frontend 
    plan: free 
    rootDir: frontend 
    buildCommand: "npm install && npm run build" 
    publishPath: "dist" # A pasta onde os ficheiros finais são gerados 
    routes: 
      - kind: rewrite 
        source: /* 
        destination: /index.html 
    envVars: 
      - key: VITE_API_URL 
        fromService: 
          type: web 
          name: backend 
          property: url 
 
# Banco de Dados - Não mexer, está correto 
databases: 
  - name: meu-banco-sgo 
    plan: free